# KRC Global Map 🌍

KRC Global의 ODA 사업 및 기술컨설팅 프로젝트를 세계 지도에 시각화하는 인터랙티브 웹 애플리케이션입니다.

## 🚀 주요 기능

### 📍 지도 시각화
- **Leaflet 기반** 인터랙티브 세계 지도
- **프로젝트별 마커** 표시 (국가별 국기 아이콘)
- **카테고리별 색상 구분** (기술컨설팅: 파랑, ODA: 주황)
- **실시간 검색** (주소/사업명 통합 검색)

### 📊 프로젝트 히스토리 패널
- **📅 프로젝트 연대기**: 연도별 타임라인 시각화
- **📋 상세 프로젝트 목록**: 스크롤 가능한 풍부한 정보
- **🎯 상태별 표시**: 제안중/시행중/완료 구분
- **💰 예산 정보**: 카테고리별 총 예산 표시
- **🏢 발주처 정보**: 주요 발주처 및 프로젝트 수

### 🎨 사용자 인터페이스
- **반응형 디자인**: 데스크톱/모바일 최적화
- **카테고리 필터**: 기술컨설팅/ODA 개별 필터링
- **편집 모드**: 실시간 프로젝트 편집 및 좌표 조정
- **데이터 관리**: JSON 내보내기/불러오기

## 🛠️ 기술 스택

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **지도 라이브러리**: Leaflet.js
- **데이터 소스**: JSON 파일 (Excel → JSON 변환)
- **서버**: Node.js (개발용) / Python HTTP 서버
- **의존성**: 없음 (순수 웹 기술, CDN 사용)

## 📦 설치 및 실행

### 방법 1: Node.js 사용 (권장)
```bash
npm install
npm start                    # 기본 포트 8000
PORT=8080 npm start         # 포트 변경
```

### 방법 2: Python 사용
```bash
PORT=8000 bash KRC/scripts/serve.sh
```

접속: http://localhost:8000

## 📁 프로젝트 구조

```
KRCglobal/
├── KRC/
│   ├── index.html                 # 메인 애플리케이션 (단일 파일)
│   ├── data/
│   │   ├── global_oda.json        # ODA 프로젝트 데이터
│   │   ├── global_consulting.json # 컨설팅 프로젝트 데이터
│   │   └── *.xlsx                 # 원본 Excel 파일들
│   ├── scripts/
│   │   ├── convert_xlsx_to_json.py # Excel → JSON 변환
│   │   ├── dev-server.js          # Node.js 개발 서버
│   │   └── serve.sh               # Python 서버 스크립트
│   └── archive/                   # 이전 버전 아카이브
├── package.json                   # Node.js 프로젝트 설정
└── README.md                      # 프로젝트 문서
```

## 🔄 데이터 업데이트

1. **Excel 파일 준비**: `KRC/data/` 폴더에 최신 Excel 파일 배치
2. **JSON 변환 실행**:
   ```bash
   cd KRC
   python3 scripts/convert_xlsx_to_json.py
   ```
3. **브라우저 새로고침**: 변경사항 자동 반영

## 🎯 사용법

### 기본 탐색
- **지도 확대/축소**: 마우스 휠 또는 +/- 버튼
- **마커 클릭**: 프로젝트 상세 정보 팝업
- **국기 클릭**: 국가별 프로젝트 히스토리 모달

### 필터링
- **카테고리 필터**: 상단 버튼으로 기술컨설팅/ODA 개별 토글
- **검색**: 주소 또는 사업명으로 실시간 검색

### 편집 모드
1. **편집 모드 활성화**: ✏️ 버튼 클릭
2. **마커 이동**: 드래그로 좌표 조정
3. **프로젝트 편집**: 팝업의 "편집" 버튼
4. **데이터 저장**: JSON 내보내기로 변경사항 저장

## 📱 모바일 지원

- **반응형 레이아웃**: 화면 크기에 따른 자동 조정
- **터치 제스처**: 핀치 줌, 터치 드래그 지원
- **하단 패널**: 모바일에서 우측 패널이 하단으로 이동

## 🔧 개발자 정보

### 코딩 원칙
- **단일 파일 구조**: `KRC/index.html`에 모든 코드 포함
- **외부 의존성 최소화**: CDN 사용, 빌드 과정 불필요
- **브라우저 호환성**: 모던 브라우저 지원 (ES6+)

### 스타일 가이드
- **색상 체계**: 상아색 배경 (#FFF8E7), 진한 파랑 테두리 (#0A3D62)
- **카테고리 색상**: 컨설팅 (#0A3D62), ODA (#E65100)

## 📄 라이선스

이 프로젝트는 KRC Global의 내부 프로젝트입니다.

---

**최종 업데이트**: 2025.09.15
**개발**: Claude Code Assistant
**문의**: KRC Global